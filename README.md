# SuperHSE

<p align="center">
    <img src="assets/images/super_hse.png" alt="logo" width="40%">
</p>

### Описание


SuperHSE – это игра-платформер со стилизацией под НИУ ВШЭ СПб в виде десктопного приложения под Linux. В игре пользователю предложено пройти несколько уровней; в процессе прохождения можно собирать виртуальную валюту – монетки ВШЭ – которая используется для приобретения дополнительных "жизней" (или доступа к различным скинам). Помимо этого на каждом уровне встречаются враги – их нужно либо обойти, либо уничтожить, прыгнув сверху. У игры есть два режима: Singleplayer, в котором игрок полностью самостоятельно проходит все уровни, и Multiplayer, где два игрока могут проходить уровень вместе: очищать друг другу путь от врагов и собирать монетки, которые начисляются обоим игрокам.

Основной ход игры: после авторизации пользователь выбирает режим. При выборе Singleplayer игрок попадает на карту уровней, где решает, какой из доступных ему уровней он хочет сейчас проходить. При выборе режима Multiplayer игрок попадает в окно подключения к серверу, игра начинается, как только подключились два игрока.

Управление персонажем осуществляется по клавишам `←` `↑` `↓` `→`.
___

### Превью

<p align="center">
    <img src="assets/images/preview.png" alt="Preview" width="70%">
</p>
<p align="center">
    <img src="assets/images/gameplay.gif" alt="Gameplay">
</p>

### Multiplayer

В этом режиме два пользователеля подключаются по локальной сети и совместными усилиями проходят усложненный уровень.

<p align="center">
    <img src="assets/images/multiplayer.gif" alt="Multiplayer">
</p>

### Восстановление

Если игрок потратил все жизни, то ему предоставляется возможность приобрести ИУПа, при покупке которого игрок может продолжить прохождение текущего уровня.

<p align="center">
    <img src="assets/images/respawn.gif" alt="Respawn">
</p>

### Магазин уникальных скинов

Игрок на заработанные деньги может приобрести дополнительные скины.

<p align="center">
    <img src="assets/images/shop.gif" alt="Shop">
</p>

## Зависимости 

- `SFML` – библиотека для работы с графикой.

Команда для установки:
```
sudo apt-get install libsfml-dev
```

- `SQLite3` – библиотека для работы с базой данных.

Команда для установки:
```
sudo apt-get install sqlite3 libsqlite3-dev
```

- `CryptoPP` – библиотека, используемая для шифрования данных.
    
Команда для установки:
```
sudo apt-get install libcrypto++-dev libcrypto++-doc libcrypto++-utils
make
sudo make install
```

- `LDtkLoader` – библиотека, используемая для парсинга файлов с уровнем.

Скачать репозиторий: https://github.com/Madour/LDtkLoader и установить на `wsl` с помощью:

##### Build
```
mkdir build && cd build
cmake ../
cmake --build . 
```

##### Install

```
cmake ../
cmake --install . 
 ```

## Запуск игры
```
mkdir build && cd build

cmake ../ && make

./super_hse
```

#### Для запуска Multiplayer

Один из двух пользователей должен запустить у себя сервер, после чего оба запускают обычное приложение `super_hse`.

**Запуск сервера**
```
mkdir build && cd build

cmake ../ && make

./server
```
После чего появится окно, на котором высветится ip-адрес, по которому игрокам нужно подключаться в режиме Multiplayer.

<p align="center">
    <img src="assets/images/server.jpeg" alt="Server Window" width=45%>
</p>

---

Перед запуском может понадобиться прогнать папку `files` через `dos2unix` с помощью команды:
```
find ./assets/files -type f -exec dos2unix {} \;
```
